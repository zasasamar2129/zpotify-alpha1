{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col-md-6">
        <div class="card mb-4">
            <div class="card-header bg-danger text-white">
                <i class="bi bi-person-x"></i> Ban User
            </div>
            <div class="card-body">
                <form method="POST" action="{{ url_for('ban_management') }}">
                    <div class="mb-3">
                        <label for="user_id" class="form-label">User ID</label>
                        <input type="text" class="form-control" id="user_id" name="user_id" required>
                    </div>
                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button type="submit" name="action" value="ban" class="btn btn-danger me-md-2">
                            <i class="bi bi-person-x"></i> Ban User
                        </button>
                        <button type="submit" name="action" value="unban" class="btn btn-success">
                            <i class="bi bi-person-check"></i> Unban User
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card mb-4">
            <div class="card-header bg-warning text-dark">
                <i class="bi bi-list-ul"></i> Banned Users List
            </div>
            <div class="card-body">
                {% if banned_users %}
                <div class="list-group">
                    {% for user_id in banned_users %}
                    <div class="list-group-item d-flex justify-content-between align-items-center">
                        User ID: {{ user_id }}
                        <form method="POST" action="{{ url_for('ban_management') }}" class="d-inline">
                            <input type="hidden" name="user_id" value="{{ user_id }}">
                            <button type="submit" name="action" value="unban" class="btn btn-sm btn-success">
                                <i class="bi bi-person-check"></i> Unban
                            </button>
                        </form>
                    </div>
                    {% endfor %}
                </div>
                {% else %}
                <div class="alert alert-info">No users are currently banned.</div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}